<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeHub ‚òÅÔ∏è - Cloud Sync</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lucide-static/0.263.1/lucide.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .category-card {
            transition: all 0.3s ease;
        }

        .category-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .category-card:active {
            cursor: grabbing !important;
        }

        .service-item {
            transition: all 0.2s ease;
        }

        .service-item:hover {
            background: rgba(102, 126, 234, 0.05);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Initialize Supabase
        const supabase = window.supabase.createClient(
            'https://hgemzhdmqvpbztwglwgn.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhnZW16aGRtcXZwYnp0d2dsd2duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyNzM4MTgsImV4cCI6MjA3Njg0OTgxOH0.zOj9sK9AG1W1Kwg7Z9bPM5IZI73MKmj96OQAwjHhSbo'
        );

        const categories = [
            { id: 'internet', name: 'Internet & TV', icon: 'üì°', color: 'bg-blue-500' },
            { id: 'utilities', name: 'Utilities', icon: '‚ö°', color: 'bg-yellow-500' },
            { id: 'subscriptions', name: 'Subscriptions', icon: 'üì∫', color: 'bg-purple-500' },
            { id: 'insurance', name: 'Insurance', icon: 'üõ°Ô∏è', color: 'bg-green-500' },
            { id: 'financial', name: 'Financial', icon: 'üí≥', color: 'bg-indigo-500' },
            { id: 'home', name: 'Home Services', icon: 'üè†', color: 'bg-pink-500' },
            { id: 'vehicles', name: 'Vehicles', icon: 'üöó', color: 'bg-red-500' },
            { id: 'memberships', name: 'Memberships', icon: 'üéØ', color: 'bg-teal-500' },
            { id: 'custom', name: 'Custom', icon: '‚ú®', color: 'bg-orange-500' },
        ];

        function LifeHubApp() {
            const [services, setServices] = useState([]);
            const [showAddModal, setShowAddModal] = useState(false);
            const [showEditModal, setShowEditModal] = useState(false);
            const [showCategoryModal, setShowCategoryModal] = useState(false);
            const [showServiceDetailModal, setShowServiceDetailModal] = useState(false);
            const [selectedCategory, setSelectedCategory] = useState(null);
            const [preSelectedCategory, setPreSelectedCategory] = useState(null);
            const [viewMode, setViewMode] = useState('dashboard'); // dashboard, category, detail
            const [selectedService, setSelectedService] = useState(null);
            const [categoryOrder, setCategoryOrder] = useState([
                'internet', 'utilities', 'subscriptions', 'insurance', 
                'financial', 'home', 'vehicles', 'memberships', 'custom'
            ]);
            const [draggedIndex, setDraggedIndex] = useState(null);

            // Authentication state
            const [user, setUser] = useState(null);
            const [authChecking, setAuthChecking] = useState(true);
            const [showAuthModal, setShowAuthModal] = useState(false);

            // Check if user is logged in on mount
            useEffect(() => {
                supabase.auth.getSession().then(({ data: { session } }) => {
                    setUser(session?.user ?? null);
                    setAuthChecking(false);
                });

                const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
                    setUser(session?.user ?? null);
                });

                return () => subscription.unsubscribe();
            }, []);

            // Load data - from cloud if logged in, localStorage if not
            useEffect(() => {
                if (authChecking) return; // Wait for auth check to complete
                
                if (user) {
                    // Load from cloud
                    loadFromCloud();
                } else {
                    // Load from localStorage
                    const saved = localStorage.getItem('lifehub-services');
                    const savedOrder = localStorage.getItem('lifehub-category-order');
                    
                    if (savedOrder) {
                        setCategoryOrder(JSON.parse(savedOrder));
                    }
                    
                    if (saved) {
                        setServices(JSON.parse(saved));
                    } else {
                        setServices([
                            {
                                id: 2,
                                category: 'subscriptions',
                                provider: 'Netflix',
                                cost: 15.49,
                                billingCycle: 'monthly',
                                startDate: '2023-06-01',
                                renewalDate: '2024-12-01',
                                username: 'user@email.com',
                                password: '‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢',
                                notes: 'Premium plan'
                            }
                        ]);
                    }
                }
            }, [user, authChecking]);

            const loadFromCloud = async () => {
                try {
                    const { data, error } = await supabase
                        .from('services')
                        .select('*')
                        .eq('user_id', user.id);
                    
                    if (error) throw error;
                    
                    const cloudServices = data.map(s => ({
                        id: s.id,
                        category: s.category,
                        provider: s.provider,
                        cost: parseFloat(s.cost),
                        billingCycle: s.billing_cycle,
                        startDate: s.start_date || '',
                        renewalDate: s.renewal_date || '',
                        accountNumber: s.account_number || '',
                        username: s.username || '',
                        password: s.password || '',
                        phone: s.phone || '',
                        notes: s.notes || '',
                        vehicleMake: s.vehicle_make || '',
                        vehicleModel: s.vehicle_model || '',
                        vehicleBodyType: s.vehicle_body_type || '',
                        vehicleYear: s.vehicle_year || ''
                    }));
                    
                    setServices(cloudServices);
                } catch (error) {
                    console.error('Error loading from cloud:', error);
                }
            };

            // Save to localStorage
            useEffect(() => {
                if (services.length > 0) {
                    localStorage.setItem('lifehub-services', JSON.stringify(services));
                }
            }, [services]);

            // Save category order to localStorage
            useEffect(() => {
                localStorage.setItem('lifehub-category-order', JSON.stringify(categoryOrder));
            }, [categoryOrder]);

            const addService = async (serviceData) => {
                if (user) {
                    // Save to cloud
                    try {
                        const { data, error } = await supabase
                            .from('services')
                            .insert([{
                                user_id: user.id,
                                category: serviceData.category,
                                provider: serviceData.provider,
                                cost: serviceData.cost,
                                billing_cycle: serviceData.billingCycle,
                                start_date: serviceData.startDate,
                                renewal_date: serviceData.renewalDate,
                                account_number: serviceData.accountNumber,
                                username: serviceData.username,
                                password: serviceData.password,
                                phone: serviceData.phone,
                                notes: serviceData.notes,
                                vehicle_make: serviceData.vehicleMake,
                                vehicle_model: serviceData.vehicleModel,
                                vehicle_body_type: serviceData.vehicleBodyType,
                                vehicle_year: serviceData.vehicleYear
                            }])
                            .select()
                            .single();
                        
                        if (error) throw error;
                        
                        const newService = {
                            id: data.id,
                            category: data.category,
                            provider: data.provider,
                            cost: parseFloat(data.cost),
                            billingCycle: data.billing_cycle,
                            startDate: data.start_date || '',
                            renewalDate: data.renewal_date || '',
                            accountNumber: data.account_number || '',
                            username: data.username || '',
                            password: data.password || '',
                            phone: data.phone || '',
                            notes: data.notes || '',
                            vehicleMake: data.vehicle_make || '',
                            vehicleModel: data.vehicle_model || '',
                            vehicleBodyType: data.vehicle_body_type || '',
                            vehicleYear: data.vehicle_year || ''
                        };
                        
                        setServices([...services, newService]);
                    } catch (error) {
                        console.error('Error adding service:', error);
                        alert('Failed to add service: ' + error.message);
                    }
                } else {
                    // Save to localStorage
                    const newService = {
                        ...serviceData,
                        id: Date.now()
                    };
                    setServices([...services, newService]);
                }
                setShowAddModal(false);
                setPreSelectedCategory(null);
            };

            const editService = async (serviceData) => {
                if (user) {
                    // Update in cloud
                    try {
                        const { error } = await supabase
                            .from('services')
                            .update({
                                category: serviceData.category,
                                provider: serviceData.provider,
                                cost: serviceData.cost,
                                billing_cycle: serviceData.billingCycle,
                                start_date: serviceData.startDate,
                                renewal_date: serviceData.renewalDate,
                                account_number: serviceData.accountNumber,
                                username: serviceData.username,
                                password: serviceData.password,
                                phone: serviceData.phone,
                                notes: serviceData.notes,
                                vehicle_make: serviceData.vehicleMake,
                                vehicle_model: serviceData.vehicleModel,
                                vehicle_body_type: serviceData.vehicleBodyType,
                                vehicle_year: serviceData.vehicleYear
                            })
                            .eq('id', serviceData.id)
                            .eq('user_id', user.id);
                        
                        if (error) throw error;
                    } catch (error) {
                        console.error('Error updating service:', error);
                        alert('Failed to update service: ' + error.message);
                        return;
                    }
                }
                
                setServices(services.map(s => s.id === serviceData.id ? serviceData : s));
                setShowEditModal(false);
                setSelectedService(serviceData);
            };

            const deleteService = async (id) => {
                if (user) {
                    // Delete from cloud
                    try {
                        const { error } = await supabase
                            .from('services')
                            .delete()
                            .eq('id', id)
                            .eq('user_id', user.id);
                        
                        if (error) throw error;
                    } catch (error) {
                        console.error('Error deleting service:', error);
                        alert('Failed to delete service: ' + error.message);
                        return;
                    }
                }
                
                setServices(services.filter(s => s.id !== id));
                setSelectedService(null);
                setShowServiceDetailModal(false);
                setShowCategoryModal(false);
                setViewMode('dashboard');
            };

            const getTotalMonthlyCost = () => {
                return services.reduce((total, service) => {
                    const cost = service.billingCycle === 'yearly' ? service.cost / 12 : service.cost;
                    return total + cost;
                }, 0);
            };

            const getTotalYearlyCost = () => {
                return services.reduce((total, service) => {
                    const cost = service.billingCycle === 'yearly' ? service.cost : service.cost * 12;
                    return total + cost;
                }, 0);
            };

            const getServicesByCategory = (categoryId) => {
                return services.filter(s => s.category === categoryId);
            };

            const handleDragStart = (index) => {
                setDraggedIndex(index);
            };

            const handleDragOver = (e, index) => {
                e.preventDefault();
                
                if (draggedIndex === null || draggedIndex === index) return;

                const newOrder = [...categoryOrder];
                const draggedItem = newOrder[draggedIndex];
                
                newOrder.splice(draggedIndex, 1);
                newOrder.splice(index, 0, draggedItem);
                
                setCategoryOrder(newOrder);
                setDraggedIndex(index);
            };

            const handleDragEnd = () => {
                setDraggedIndex(null);
            };

            const handleCategoryClick = (category, e) => {
                // Only open category if we're not dragging
                if (draggedIndex === null) {
                    setSelectedCategory(category);
                    setShowCategoryModal(true);
                }
            };

            const getOrderedCategories = () => {
                return categoryOrder.map(id => categories.find(cat => cat.id === id)).filter(Boolean);
            };

            return (
                <div className="min-h-screen p-4 md:p-8">
                    <div className="max-w-7xl mx-auto">
                        {/* Header */}
                        <header className="glass-effect rounded-2xl p-6 mb-8 shadow-xl">
                            <div className="flex justify-between items-center">
                                <div>
                                    <h1 className="text-4xl font-bold text-gray-800 mb-2">LifeHub ‚òÅÔ∏è</h1>
                                    <p className="text-gray-600">
                                        Your personal life administration tracker
                                        {user && <span className="text-green-600 ml-2">‚Ä¢ Logged in as {user.email}</span>}
                                        {!user && <span className="text-orange-600 ml-2">‚Ä¢ Using local storage only</span>}
                                    </p>
                                </div>
                                <div className="flex gap-3">
                                    <button
                                        onClick={() => setShowAddModal(true)}
                                        className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all font-semibold"
                                    >
                                        + Add Service
                                    </button>
                                    {user ? (
                                        <button
                                            onClick={() => supabase.auth.signOut()}
                                            className="bg-gray-200 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-300 transition-all font-semibold"
                                        >
                                            Sign Out
                                        </button>
                                    ) : (
                                        <button
                                            onClick={() => setShowAuthModal(true)}
                                            className="bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-all font-semibold"
                                        >
                                            Sign In / Sign Up
                                        </button>
                                    )}
                                </div>
                            </div>
                        </header>

                        {/* Cost Summary */}
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                            <div className="glass-effect rounded-2xl p-6 shadow-lg">
                                <div className="text-sm text-gray-600 mb-1">Monthly Total</div>
                                <div className="text-3xl font-bold text-indigo-600">
                                    ${getTotalMonthlyCost().toFixed(2)}
                                </div>
                            </div>
                            <div className="glass-effect rounded-2xl p-6 shadow-lg">
                                <div className="text-sm text-gray-600 mb-1">Yearly Total</div>
                                <div className="text-3xl font-bold text-purple-600">
                                    ${getTotalYearlyCost().toFixed(2)}
                                </div>
                            </div>
                            <div className="glass-effect rounded-2xl p-6 shadow-lg">
                                <div className="text-sm text-gray-600 mb-1">Active Services</div>
                                <div className="text-3xl font-bold text-pink-600">
                                    {services.length}
                                </div>
                            </div>
                        </div>

                        {/* Categories Grid */}
                        <div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                            {getOrderedCategories().map((category, index) => {
                                const count = getServicesByCategory(category.id).length;
                                return (
                                    <div
                                        key={category.id}
                                        draggable
                                        onDragStart={() => handleDragStart(index)}
                                        onDragOver={(e) => handleDragOver(e, index)}
                                        onDragEnd={handleDragEnd}
                                        onClick={(e) => handleCategoryClick(category, e)}
                                        className={`glass-effect rounded-2xl p-6 cursor-pointer category-card shadow-lg ${
                                            draggedIndex === index ? 'opacity-50' : ''
                                        }`}
                                    >
                                        <div className="text-4xl mb-3">{category.icon}</div>
                                        <div className="font-semibold text-gray-800 mb-1">{category.name}</div>
                                        <div className="text-sm text-gray-600">{count} service{count !== 1 ? 's' : ''}</div>
                                        <div className="text-xs text-gray-500 mt-2 italic">Click to view ‚Ä¢ Drag to reorder</div>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Recent Services */}
                        {viewMode === 'dashboard' && (
                            <div className="glass-effect rounded-2xl p-6 shadow-xl">
                                <h2 className="text-2xl font-bold text-gray-800 mb-4">All Services</h2>
                                {services.length === 0 ? (
                                    <div className="text-center py-12 text-gray-500">
                                        <div className="text-5xl mb-4">üìã</div>
                                        <p>No services added yet. Click "Add Service" to get started!</p>
                                    </div>
                                ) : (
                                    <div className="space-y-3">
                                        {services.map(service => {
                                            const category = categories.find(c => c.id === service.category);
                                            return (
                                                <div
                                                    key={service.id}
                                                    onClick={() => {
                                                        setSelectedService(service);
                                                        setShowServiceDetailModal(true);
                                                    }}
                                                    className="service-item p-4 rounded-xl cursor-pointer border border-gray-200"
                                                >
                                                    <div className="flex justify-between items-center">
                                                        <div className="flex items-center space-x-4">
                                                            <div className="text-3xl">{category?.icon}</div>
                                                            <div>
                                                                <div className="font-semibold text-gray-800">{service.provider}</div>
                                                                <div className="text-sm text-gray-600">{category?.name}</div>
                                                            </div>
                                                        </div>
                                                        <div className="text-right">
                                                            <div className="font-bold text-indigo-600">${service.cost}</div>
                                                            <div className="text-sm text-gray-600">{service.billingCycle}</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                )}
                            </div>
                        )}
                    </div>

                    {/* Add Service Modal */}
                    {showAddModal && (
                        <AddServiceModal
                            onClose={() => {
                                setShowAddModal(false);
                                setPreSelectedCategory(null);
                            }}
                            onAdd={addService}
                            categories={categories}
                            preSelectedCategory={preSelectedCategory}
                        />
                    )}

                    {/* Edit Service Modal */}
                    {showEditModal && selectedService && (
                        <EditServiceModal
                            service={selectedService}
                            onClose={() => setShowEditModal(false)}
                            onEdit={editService}
                            categories={categories}
                        />
                    )}

                    {/* Category Modal */}
                    {showCategoryModal && selectedCategory && (
                        <CategoryModal
                            category={selectedCategory}
                            services={getServicesByCategory(selectedCategory.id)}
                            onClose={() => {
                                setShowCategoryModal(false);
                                setSelectedCategory(null);
                            }}
                            onServiceClick={(service) => {
                                setSelectedService(service);
                                setShowServiceDetailModal(true);
                            }}
                            onAddService={() => {
                                setPreSelectedCategory(selectedCategory.id);
                                setShowAddModal(true);
                            }}
                        />
                    )}

                    {/* Service Detail Modal */}
                    {showServiceDetailModal && selectedService && (
                        <ServiceDetailModal
                            service={selectedService}
                            categories={categories}
                            onClose={() => {
                                setShowServiceDetailModal(false);
                                setSelectedService(null);
                            }}
                            onEdit={() => setShowEditModal(true)}
                            onDelete={deleteService}
                        />
                    )}

                    {/* Auth Modal */}
                    {showAuthModal && (
                        <AuthModal onClose={() => setShowAuthModal(false)} />
                    )}
                </div>
            );
        }

        function DetailField({ label, value }) {
            return (
                <div>
                    <div className="text-sm font-semibold text-gray-700 mb-1">{label}</div>
                    <div className="bg-gray-50 p-3 rounded-lg text-gray-800">{value}</div>
                </div>
            );
        }

        function AddServiceModal({ onClose, onAdd, categories, preSelectedCategory }) {
            const [formData, setFormData] = useState({
                category: preSelectedCategory || 'internet',
                provider: '',
                cost: '',
                billingCycle: 'monthly',
                startDate: '',
                renewalDate: '',
                accountNumber: '',
                username: '',
                password: '',
                phone: '',
                notes: '',
                // Vehicle-specific fields
                vehicleMake: '',
                vehicleModel: '',
                vehicleBodyType: '',
                vehicleYear: ''
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                onAdd({
                    ...formData,
                    cost: parseFloat(formData.cost)
                });
            };

            // Category-specific placeholder examples
            const getProviderPlaceholder = (categoryId) => {
                const placeholders = {
                    'internet': 'e.g., Spectrum, Comcast, AT&T',
                    'utilities': 'e.g., Pacific Gas & Electric, Con Edison',
                    'subscriptions': 'e.g., Netflix, Spotify, Disney+',
                    'insurance': 'e.g., State Farm, Geico, Blue Cross',
                    'financial': 'e.g., Chase, Bank of America, Amex',
                    'home': 'e.g., Merry Maids, TruGreen, ADT',
                    'vehicles': 'e.g., Toyota Dealership, AAA, Hertz',
                    'memberships': 'e.g., LA Fitness, Costco, AAA',
                    'custom': 'e.g., Your service name'
                };
                return placeholders[categoryId] || 'e.g., Service name';
            };

            return (
                <div 
                    className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
                    onClick={(e) => {
                        if (e.target === e.currentTarget) {
                            onClose();
                        }
                    }}
                >
                    <div className="glass-effect rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold text-gray-800">Add New Service</h2>
                            <button onClick={onClose} className="text-gray-600 hover:text-gray-800 text-2xl">√ó</button>
                        </div>
                        
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Category</label>
                                <select
                                    value={formData.category}
                                    onChange={(e) => setFormData({...formData, category: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    required
                                >
                                    {categories.map(cat => (
                                        <option key={cat.id} value={cat.id}>{cat.icon} {cat.name}</option>
                                    ))}
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Provider/Service Name</label>
                                <input
                                    type="text"
                                    value={formData.provider}
                                    onChange={(e) => setFormData({...formData, provider: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder={getProviderPlaceholder(formData.category)}
                                    required
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Cost ($)</label>
                                    <input
                                        type="number"
                                        step="0.01"
                                        value={formData.cost}
                                        onChange={(e) => setFormData({...formData, cost: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="79.99"
                                        required
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Billing Cycle</label>
                                    <select
                                        value={formData.billingCycle}
                                        onChange={(e) => setFormData({...formData, billingCycle: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    >
                                        <option value="monthly">Monthly</option>
                                        <option value="yearly">Yearly</option>
                                    </select>
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Start Date</label>
                                    <input
                                        type="date"
                                        value={formData.startDate}
                                        onChange={(e) => setFormData({...formData, startDate: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Renewal Date</label>
                                    <input
                                        type="date"
                                        value={formData.renewalDate}
                                        onChange={(e) => setFormData({...formData, renewalDate: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Account Number</label>
                                <input
                                    type="text"
                                    value={formData.accountNumber}
                                    onChange={(e) => setFormData({...formData, accountNumber: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="Optional"
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Username/Email</label>
                                    <input
                                        type="text"
                                        value={formData.username}
                                        onChange={(e) => setFormData({...formData, username: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="Optional"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                                    <input
                                        type="password"
                                        value={formData.password}
                                        onChange={(e) => setFormData({...formData, password: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="Optional"
                                    />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Contact Phone</label>
                                <input
                                    type="tel"
                                    value={formData.phone}
                                    onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="Optional"
                                />
                            </div>

                            {/* Vehicle-specific fields */}
                            {formData.category === 'vehicles' && (
                                <div className="border-t border-gray-200 pt-4 space-y-4">
                                    <h3 className="text-lg font-semibold text-gray-800">üöó Vehicle Details</h3>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Make</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleMake}
                                                onChange={(e) => setFormData({...formData, vehicleMake: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Toyota, Ford, Honda"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Model</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleModel}
                                                onChange={(e) => setFormData({...formData, vehicleModel: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Camry, F-150, Civic"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Body Type</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleBodyType}
                                                onChange={(e) => setFormData({...formData, vehicleBodyType: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Sedan, SUV, Truck"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Year</label>
                                            <input
                                                type="number"
                                                value={formData.vehicleYear}
                                                onChange={(e) => setFormData({...formData, vehicleYear: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., 2024"
                                                min="1900"
                                                max="2099"
                                            />
                                        </div>
                                    </div>
                                </div>
                            )}

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Notes</label>
                                <textarea
                                    value={formData.notes}
                                    onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    rows="3"
                                    placeholder="Any additional information..."
                                />
                            </div>

                            <div className="flex space-x-4 pt-4">
                                <button
                                    type="submit"
                                    className="flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-xl hover:shadow-lg transition-all font-semibold"
                                >
                                    Add Service
                                </button>
                                <button
                                    type="button"
                                    onClick={onClose}
                                    className="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl hover:bg-gray-300 transition-all font-semibold"
                                >
                                    Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        function EditServiceModal({ service, onClose, onEdit, categories }) {
            const [formData, setFormData] = useState({
                id: service.id,
                category: service.category,
                provider: service.provider,
                cost: service.cost,
                billingCycle: service.billingCycle,
                startDate: service.startDate || '',
                renewalDate: service.renewalDate || '',
                accountNumber: service.accountNumber || '',
                username: service.username || '',
                password: service.password || '',
                phone: service.phone || '',
                notes: service.notes || '',
                // Vehicle-specific fields
                vehicleMake: service.vehicleMake || '',
                vehicleModel: service.vehicleModel || '',
                vehicleBodyType: service.vehicleBodyType || '',
                vehicleYear: service.vehicleYear || ''
            });

            const handleSubmit = (e) => {
                e.preventDefault();
                onEdit({
                    ...formData,
                    cost: parseFloat(formData.cost)
                });
            };

            // Category-specific placeholder examples
            const getProviderPlaceholder = (categoryId) => {
                const placeholders = {
                    'internet': 'e.g., Spectrum, Comcast, AT&T',
                    'utilities': 'e.g., Pacific Gas & Electric, Con Edison',
                    'subscriptions': 'e.g., Netflix, Spotify, Disney+',
                    'insurance': 'e.g., State Farm, Geico, Blue Cross',
                    'financial': 'e.g., Chase, Bank of America, Amex',
                    'home': 'e.g., Merry Maids, TruGreen, ADT',
                    'vehicles': 'e.g., Toyota Dealership, AAA, Hertz',
                    'memberships': 'e.g., LA Fitness, Costco, AAA',
                    'custom': 'e.g., Your service name'
                };
                return placeholders[categoryId] || 'e.g., Service name';
            };

            return (
                <div 
                    className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
                    onClick={(e) => {
                        if (e.target === e.currentTarget) {
                            onClose();
                        }
                    }}
                >
                    <div className="glass-effect rounded-2xl p-8 max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold text-gray-800">Edit Service</h2>
                            <button onClick={onClose} className="text-gray-600 hover:text-gray-800 text-2xl">√ó</button>
                        </div>
                        
                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Category</label>
                                <select
                                    value={formData.category}
                                    onChange={(e) => setFormData({...formData, category: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    required
                                >
                                    {categories.map(cat => (
                                        <option key={cat.id} value={cat.id}>{cat.icon} {cat.name}</option>
                                    ))}
                                </select>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Provider/Service Name</label>
                                <input
                                    type="text"
                                    value={formData.provider}
                                    onChange={(e) => setFormData({...formData, provider: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder={getProviderPlaceholder(formData.category)}
                                    required
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Cost ($)</label>
                                    <input
                                        type="number"
                                        step="0.01"
                                        value={formData.cost}
                                        onChange={(e) => setFormData({...formData, cost: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="79.99"
                                        required
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Billing Cycle</label>
                                    <select
                                        value={formData.billingCycle}
                                        onChange={(e) => setFormData({...formData, billingCycle: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    >
                                        <option value="monthly">Monthly</option>
                                        <option value="yearly">Yearly</option>
                                    </select>
                                </div>
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Start Date</label>
                                    <input
                                        type="date"
                                        value={formData.startDate}
                                        onChange={(e) => setFormData({...formData, startDate: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Renewal Date</label>
                                    <input
                                        type="date"
                                        value={formData.renewalDate}
                                        onChange={(e) => setFormData({...formData, renewalDate: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Account Number</label>
                                <input
                                    type="text"
                                    value={formData.accountNumber}
                                    onChange={(e) => setFormData({...formData, accountNumber: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="Optional"
                                />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Username/Email</label>
                                    <input
                                        type="text"
                                        value={formData.username}
                                        onChange={(e) => setFormData({...formData, username: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="Optional"
                                    />
                                </div>
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                                    <input
                                        type="password"
                                        value={formData.password}
                                        onChange={(e) => setFormData({...formData, password: e.target.value})}
                                        className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                        placeholder="Optional"
                                    />
                                </div>
                            </div>

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Contact Phone</label>
                                <input
                                    type="tel"
                                    value={formData.phone}
                                    onChange={(e) => setFormData({...formData, phone: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    placeholder="Optional"
                                />
                            </div>

                            {/* Vehicle-specific fields */}
                            {formData.category === 'vehicles' && (
                                <div className="border-t border-gray-200 pt-4 space-y-4">
                                    <h3 className="text-lg font-semibold text-gray-800">üöó Vehicle Details</h3>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Make</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleMake}
                                                onChange={(e) => setFormData({...formData, vehicleMake: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Toyota, Ford, Honda"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Model</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleModel}
                                                onChange={(e) => setFormData({...formData, vehicleModel: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Camry, F-150, Civic"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Body Type</label>
                                            <input
                                                type="text"
                                                value={formData.vehicleBodyType}
                                                onChange={(e) => setFormData({...formData, vehicleBodyType: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., Sedan, SUV, Truck"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-semibold text-gray-700 mb-2">Year</label>
                                            <input
                                                type="number"
                                                value={formData.vehicleYear}
                                                onChange={(e) => setFormData({...formData, vehicleYear: e.target.value})}
                                                className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                                placeholder="e.g., 2024"
                                                min="1900"
                                                max="2099"
                                            />
                                        </div>
                                    </div>
                                </div>
                            )}

                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Notes</label>
                                <textarea
                                    value={formData.notes}
                                    onChange={(e) => setFormData({...formData, notes: e.target.value})}
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                    rows="3"
                                    placeholder="Any additional information..."
                                />
                            </div>

                            <div className="flex space-x-4 pt-4">
                                <button
                                    type="submit"
                                    className="flex-1 bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-xl hover:shadow-lg transition-all font-semibold"
                                >
                                    Save Changes
                                </button>
                                <button
                                    type="button"
                                    onClick={onClose}
                                    className="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl hover:bg-gray-300 transition-all font-semibold"
                                >
                                    Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }

        function CategoryModal({ category, services, onClose, onServiceClick, onAddService }) {
            const handleAddService = () => {
                onAddService();
                onClose(); // Close the category modal so the add form is prominently displayed
            };

            const handleBackdropClick = (e) => {
                if (e.target === e.currentTarget) {
                    onClose();
                }
            };

            return (
                <div 
                    className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
                    onClick={handleBackdropClick}
                >
                    <div className="glass-effect rounded-2xl p-8 max-w-3xl w-full max-h-[80vh] overflow-y-auto">
                        <div className="flex items-center justify-between mb-6">
                            <div className="flex items-center space-x-3">
                                <div className="text-4xl">{category.icon}</div>
                                <h2 className="text-3xl font-bold text-gray-800">{category.name}</h2>
                            </div>
                            <div className="flex items-center space-x-3">
                                <button
                                    onClick={handleAddService}
                                    className="bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-2 rounded-lg hover:shadow-lg transition-all font-semibold text-sm"
                                >
                                    + Add Service
                                </button>
                                <button 
                                    onClick={onClose} 
                                    className="text-gray-600 hover:text-gray-800 text-3xl leading-none"
                                >
                                    √ó
                                </button>
                            </div>
                        </div>
                        
                        {services.length === 0 ? (
                            <div className="text-center py-16 text-gray-500">
                                <div className="text-6xl mb-4">{category.icon}</div>
                                <p className="text-lg">No services in this category yet.</p>
                                <button
                                    onClick={handleAddService}
                                    className="mt-4 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:shadow-lg transition-all font-semibold"
                                >
                                    + Add Your First Service
                                </button>
                            </div>
                        ) : (
                            <div className="space-y-3">
                                {services.map(service => (
                                    <div
                                        key={service.id}
                                        onClick={() => onServiceClick(service)}
                                        className="service-item p-5 rounded-xl cursor-pointer border-2 border-gray-200 hover:border-indigo-400"
                                    >
                                        <div className="flex justify-between items-center">
                                            <div className="flex-1">
                                                <div className="font-semibold text-gray-800 text-lg">{service.provider}</div>
                                                <div className="text-sm text-gray-600 mt-1">{service.notes || 'No notes'}</div>
                                                {service.renewalDate && (
                                                    <div className="text-xs text-gray-500 mt-1">
                                                        Renews: {new Date(service.renewalDate).toLocaleDateString()}
                                                    </div>
                                                )}
                                            </div>
                                            <div className="text-right ml-4">
                                                <div className="font-bold text-indigo-600 text-xl">${service.cost}</div>
                                                <div className="text-sm text-gray-600">{service.billingCycle}</div>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        function ServiceDetailModal({ service, onClose, onEdit, onDelete, categories }) {
            const handleBackdropClick = (e) => {
                if (e.target === e.currentTarget) {
                    onClose();
                }
            };

            return (
                <div 
                    className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-[60]"
                    onClick={handleBackdropClick}
                >
                    <div className="glass-effect rounded-2xl p-8 max-w-3xl w-full max-h-[85vh] overflow-y-auto">
                        <div className="flex items-center justify-between mb-6">
                            <button
                                onClick={onClose}
                                className="text-gray-600 hover:text-gray-800 font-semibold"
                            >
                                ‚Üê Back
                            </button>
                            <div className="flex space-x-3">
                                <button
                                    onClick={onEdit}
                                    className="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-all font-semibold"
                                >
                                    Edit
                                </button>
                                <button
                                    onClick={() => {
                                        if (confirm('Are you sure you want to delete this service?')) {
                                            onDelete(service.id);
                                        }
                                    }}
                                    className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-all font-semibold"
                                >
                                    Delete
                                </button>
                            </div>
                        </div>
                        
                        <div className="space-y-4">
                            <div>
                                <h2 className="text-3xl font-bold text-gray-800 mb-2">{service.provider}</h2>
                                <div className="text-gray-600 text-lg">
                                    {categories.find(c => c.id === service.category)?.name}
                                </div>
                            </div>
                            
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-6">
                                <DetailField label="Cost" value={`$${service.cost}`} />
                                <DetailField label="Billing Cycle" value={service.billingCycle} />
                                <DetailField label="Start Date" value={service.startDate || 'Not set'} />
                                <DetailField label="Renewal Date" value={service.renewalDate || 'Not set'} />
                                {service.accountNumber && (
                                    <DetailField label="Account Number" value={service.accountNumber} />
                                )}
                                {service.username && (
                                    <DetailField label="Username" value={service.username} />
                                )}
                                {service.password && (
                                    <DetailField label="Password" value={service.password} />
                                )}
                                {service.phone && (
                                    <DetailField label="Phone" value={service.phone} />
                                )}
                            </div>
                            
                            {/* Vehicle-specific details */}
                            {service.category === 'vehicles' && (service.vehicleMake || service.vehicleModel || service.vehicleBodyType || service.vehicleYear) && (
                                <div className="border-t border-gray-200 pt-4 mt-6">
                                    <div className="text-sm font-semibold text-gray-700 mb-3">üöó Vehicle Details</div>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        {service.vehicleMake && (
                                            <DetailField label="Make" value={service.vehicleMake} />
                                        )}
                                        {service.vehicleModel && (
                                            <DetailField label="Model" value={service.vehicleModel} />
                                        )}
                                        {service.vehicleBodyType && (
                                            <DetailField label="Body Type" value={service.vehicleBodyType} />
                                        )}
                                        {service.vehicleYear && (
                                            <DetailField label="Year" value={service.vehicleYear} />
                                        )}
                                    </div>
                                </div>
                            )}
                            
                            {service.notes && (
                                <div className="mt-6">
                                    <div className="text-sm font-semibold text-gray-700 mb-2">Notes</div>
                                    <div className="bg-gray-50 p-4 rounded-lg text-gray-700">
                                        {service.notes}
                                    </div>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // Simple Auth Modal Component
        function AuthModal({ onClose }) {
            const [email, setEmail] = useState('');
            const [password, setPassword] = useState('');
            const [isSignUp, setIsSignUp] = useState(false);
            const [loading, setLoading] = useState(false);
            const [message, setMessage] = useState('');

            const handleSubmit = async (e) => {
                e.preventDefault();
                setLoading(true);
                setMessage('');

                try {
                    if (isSignUp) {
                        const { error } = await supabase.auth.signUp({ email, password });
                        if (error) throw error;
                        setMessage('‚úÖ Check your email to confirm your account!');
                        setTimeout(() => onClose(), 3000);
                    } else {
                        const { error } = await supabase.auth.signInWithPassword({ email, password });
                        if (error) throw error;
                        onClose();
                    }
                } catch (error) {
                    setMessage('‚ùå ' + error.message);
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div 
                    className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50"
                    onClick={(e) => e.target === e.currentTarget && onClose()}
                >
                    <div className="glass-effect rounded-2xl p-8 max-w-md w-full">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-2xl font-bold text-gray-800">
                                {isSignUp ? 'Create Account' : 'Sign In'}
                            </h2>
                            <button onClick={onClose} className="text-gray-600 hover:text-gray-800 text-2xl">√ó</button>
                        </div>

                        {message && (
                            <div className="mb-4 p-3 rounded-lg bg-blue-50 text-sm">
                                {message}
                            </div>
                        )}

                        <form onSubmit={handleSubmit} className="space-y-4">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Email</label>
                                <input
                                    type="email"
                                    value={email}
                                    onChange={(e) => setEmail(e.target.value)}
                                    className="w-full p-3 border border-gray-300 rounded-lg"
                                    required
                                />
                            </div>
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">Password</label>
                                <input
                                    type="password"
                                    value={password}
                                    onChange={(e) => setPassword(e.target.value)}
                                    className="w-full p-3 border border-gray-300 rounded-lg"
                                    required
                                    minLength={6}
                                />
                            </div>
                            <button
                                type="submit"
                                disabled={loading}
                                className="w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white py-3 rounded-xl font-semibold disabled:opacity-50"
                            >
                                {loading ? 'Loading...' : (isSignUp ? 'Create Account' : 'Sign In')}
                            </button>
                        </form>

                        <button
                            onClick={() => setIsSignUp(!isSignUp)}
                            className="w-full mt-4 text-indigo-600 hover:text-indigo-700 font-semibold"
                        >
                            {isSignUp ? 'Already have an account? Sign in' : "Don't have an account? Sign up"}
                        </button>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<LifeHubApp />, document.getElementById('root'));
    </script>
</body>
</html>